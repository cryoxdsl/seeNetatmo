:root{--bg:#f2f6fa;--card:#fff;--text:#112031;--muted:#5f6f82;--accent:#0f6cbf;--line:#d9e3ec;--good:#1f7a33;--bad:#a12828;--space:1rem}
*{box-sizing:border-box}body{margin:0;font-family:Verdana,Arial,sans-serif;background:linear-gradient(180deg,#e8f1f9,#f8fbfe 30%,#f2f6fa);color:var(--text);min-height:100vh;display:flex;flex-direction:column}
.wrap{width:min(1120px,94vw);margin:0 auto}.top{background:#0b2f52;color:#fff;padding:.8rem 0}.head-row{display:flex;align-items:center;justify-content:space-between;gap:1rem;flex-wrap:wrap}.brand{font-weight:700;color:inherit;text-decoration:none}
nav a{color:#fff;text-decoration:none;padding:.35rem .6rem;border-radius:8px}nav a:hover{background:rgba(255,255,255,.14)}
nav .nav-switch{display:inline-flex;align-items:center;gap:.22rem;margin-left:.25rem}
nav .nav-switch a{font-size:.78rem;padding:.15rem .35rem;opacity:.9}
nav .nav-switch a.active{text-decoration:underline;opacity:1}
nav .nav-switch .sep{font-size:.74rem;opacity:.72}
main{padding:var(--space) 0 2rem;display:flex;flex-direction:column;gap:var(--space);flex:1}.panel{background:var(--card);border:1px solid var(--line);border-radius:12px;padding:1rem;margin:0;box-shadow:0 6px 18px rgba(8,42,78,.06)}
.panel-dashboard{position:relative;background-color:#f6f9fc;background-size:cover;background-position:center;border-color:#c9d8e8;overflow:visible}
.panel-dashboard::before{content:"";position:absolute;inset:0;background:linear-gradient(90deg,rgba(255,255,255,.55),rgba(255,255,255,.25));pointer-events:none}
.panel-dashboard>*{position:relative;z-index:1}
.panel-dashboard.season-spring{background-image:url('../img/seasons/spring.svg')}
.panel-dashboard.season-summer{background-image:url('../img/seasons/summer.svg')}
.panel-dashboard.season-autumn{background-image:url('../img/seasons/autumn.svg')}
.panel-dashboard.season-winter{background-image:url('../img/seasons/winter.svg')}
.cards{display:grid;grid-template-columns:repeat(auto-fit,minmax(170px,1fr));gap:var(--space);margin:0}.card{background:var(--card);border:1px solid var(--line);border-radius:10px;padding:.7rem;height:100%}.card h3{margin:0 0 .35rem;font-size:.9rem;color:var(--muted)}.card div{font-size:1.2rem;font-weight:700}
[data-live-key]{transition:background-color .35s ease,color .35s ease,transform .25s ease,box-shadow .35s ease}
[data-live-key],.card div,.forecast-card .forecast-value,.extremes-card .extremes-line strong,.metric-group-card .metric-line-value,.day-minmax .v{white-space:nowrap}
.live-updated{background:rgba(26,92,157,.11);border-radius:8px;padding:.04rem .28rem;box-shadow:0 0 0 1px rgba(26,92,157,.2) inset;animation:liveFlash .85s ease}
.live-updated-up{color:#18733f}
.live-updated-down{color:#a62d2d}
@keyframes liveFlash{0%{transform:translateY(0) scale(1)}40%{transform:translateY(-1px) scale(1.02)}100%{transform:translateY(0) scale(1)}}
.small-muted{margin:.3rem 0 0;font-size:.8rem;color:var(--muted)}
.legal-content{line-height:1.55;white-space:normal}
.station-card .station-map-link{display:inline-flex;align-items:center;justify-content:center;width:18px;height:18px;margin-left:.28rem;color:#4a6785;text-decoration:none;vertical-align:middle}
.station-card .station-map-link:hover{color:#2f6ea4}
.station-card .station-map-link svg{width:12px;height:12px}
.forecast-card .forecast-head{display:flex;align-items:center;gap:.55rem;margin:.1rem 0 .45rem}
.forecast-card .forecast-icon{width:42px;height:42px;display:flex;align-items:center;justify-content:center;background:#f4f9ff;border:1px solid #d4e2ef;border-radius:10px;overflow:hidden}
.forecast-card .forecast-icon svg{width:34px;height:34px}
.forecast-card .forecast-current{display:flex;flex-direction:column}
.forecast-card .forecast-value{font-size:1.1rem;font-weight:700}
.sea-card .sea-illustration{color:#2f79b7;background:linear-gradient(180deg,#f7fcff,#e9f4ff)}
.forecast-card .forecast-grid{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.45rem;margin-top:.45rem}
.forecast-card .forecast-day{border:1px solid var(--line);border-radius:8px;padding:.35rem .45rem;background:#f8fbff}
.forecast-card .forecast-day strong{display:block;margin-bottom:.25rem;font-size:.78rem;color:var(--muted)}
.forecast-card .forecast-line{margin:.1rem 0;font-size:.8rem;color:#26496a}
.extremes-card .extremes-grid{display:flex;flex-direction:column;gap:.35rem}
.extremes-card .extremes-line{margin:0;padding:.32rem .45rem;display:flex;align-items:center;justify-content:space-between;gap:.45rem;background:#f8fbff;border:1px solid #d7e3ef;border-radius:8px}
.extremes-card .extremes-label{font-size:.77rem;color:#5e7590}
.extremes-card .extremes-line strong{font-size:.87rem;color:#1d3e60}
.extremes-card .sun-visual{padding:.4rem .45rem;background:#f8fbff;border:1px solid #d7e3ef;border-radius:8px}
.extremes-card .sun-scale{position:relative;height:10px;border-radius:999px;background:linear-gradient(90deg,#c7d7e8,#b7cade);overflow:visible}
.extremes-card .sun-daylight{position:absolute;top:0;height:100%;border-radius:999px;background:linear-gradient(90deg,#f3c766,#ffe08b)}
.extremes-card .sun-tick{position:absolute;top:-3px;width:2px;height:16px;background:#7d93ac;transform:translateX(-50%);opacity:.7}
.extremes-card .sun-now{position:absolute;top:50%;width:14px;height:14px;border-radius:50%;background:#ff9f1c;border:2px solid #fff;box-shadow:0 1px 7px rgba(0,0,0,.2);transform:translate(-50%,-50%)}
.extremes-card .sun-caption{margin:.4rem 0 0;display:flex;align-items:center;justify-content:space-between;gap:.45rem}
.metric-groups-panel{display:flex;flex-direction:column;gap:.7rem}
.metric-groups-panel h3{margin:0 0 .2rem}
.metrics-cards{margin:0}
.metric-group-card{padding:.7rem}
.metric-group-card h3{display:flex;align-items:center;gap:.45rem}
.metric-group-icon{width:24px;height:24px;display:inline-flex;align-items:center;justify-content:center;border:1px solid #d4e2ef;border-radius:8px;background:#f4f9ff;color:#3e678e;flex:0 0 24px}
.metric-group-icon svg{width:16px;height:16px;display:block}
.metric-group-card .metric-group-lines{display:grid;grid-template-columns:repeat(2,minmax(0,1fr));gap:.45rem}
.metric-group-card .metric-line{margin:0}
.metric-group-card .metric-line-value{font-size:1.05rem;font-weight:700;color:#1d3e60}
.metric-trend{display:inline-block;margin-right:.22rem;font-weight:700}
.metric-trend-up{color:#1f8a45}
.metric-trend-down{color:#b23a2b}
.metric-trend-stable{color:#4b6783}
.metric-trend-unknown{color:#7a8fa5}
.wind-compass{display:inline-flex;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-right:.22rem;border:1px solid #c8d6e5;border-radius:50%;background:#f7fbff;vertical-align:middle}
.wind-compass .needle{display:inline-block;line-height:1;font-size:.9em;color:#2f5f8a;transform-origin:50% 55%}
.weather-hero{display:grid;grid-template-columns:130px 1fr auto;align-items:center;gap:1rem;background:linear-gradient(125deg,#f5fbff,#edf5fc)}
.weather-icon{width:120px;height:120px;display:flex;align-items:center;justify-content:center;background:#fff;border:1px solid var(--line);border-radius:16px}
.weather-icon svg{width:100px;height:100px}
.weather-copy h3{margin:.1rem 0 .35rem;font-size:1.3rem}
.weather-copy p{margin:.15rem 0;color:var(--muted)}
.weather-trend{font-weight:700;color:#26496a!important}
.weather-temp-side{min-width:170px;display:flex;flex-direction:column;align-items:flex-end;gap:.35rem}
.weather-temp-side .current-label{font-size:.75rem;color:#5b6f83;text-transform:uppercase;letter-spacing:.04em}
.weather-temp-side .current-value{font-size:2.35rem;font-weight:700;line-height:1;color:#12355a}
.weather-temp-side .current-value small{font-size:1rem;margin-left:.18rem;color:#37506a;font-weight:600}
.weather-temp-side .current-value .temp-trend{display:inline-flex;align-items:center;justify-content:center;width:.75em;margin-right:.1em;font-size:.9em;line-height:1}
.weather-temp-side .current-value .temp-trend-up{color:#1f8a45}
.weather-temp-side .current-value .temp-trend-down{color:#b23a2b}
.weather-temp-side .current-value .temp-trend-stable{color:#4b6783}
.weather-temp-side .current-value .temp-trend-unknown{color:#7a8fa5}
.day-minmax{display:flex;gap:.65rem}
.day-minmax .min,.day-minmax .max{display:flex;align-items:center;gap:.2rem;padding:.16rem .35rem;border:1px solid #cbd9e7;border-radius:999px;background:rgba(255,255,255,.72);font-size:.82rem}
.day-minmax .arrow{font-weight:700}
.day-minmax .min .arrow{color:#3d79b2}
.day-minmax .max .arrow{color:#b35634}
.day-minmax .v{font-weight:700;color:#193a5c}
.weather-sunny{background:linear-gradient(125deg,#fff9e6,#fff3c8)}
.weather-rain{background:linear-gradient(125deg,#edf5fd,#dcefff)}
.weather-snow{background:linear-gradient(125deg,#f6fbff,#e7f3ff)}
.weather-wind{background:linear-gradient(125deg,#f2f8ff,#e1ecfb)}
.weather-very_cloudy,.weather-cloudy{background:linear-gradient(125deg,#f2f6fa,#e5edf5)}
.weather-offline{background:linear-gradient(125deg,#f5f7fa,#eceff3)}
.pill{display:inline-block;padding:.25rem .7rem;border-radius:999px;font-weight:700}.pill-ok{background:#e4f4e7;color:var(--good)}.pill-bad{background:#fbe4e4;color:var(--bad)}
.status-row{justify-content:space-between}
.auto-refresh{display:flex;align-items:center;gap:.45rem;flex-wrap:wrap}
.auto-refresh-mini{display:flex;flex-direction:column;align-items:flex-end;gap:.3rem;--auto-progress-width:150px}
.auto-chip{display:inline-flex;align-items:center;gap:.45rem;background:rgba(255,255,255,.78);border:1px solid var(--line);border-radius:999px;padding:.25rem .55rem;cursor:pointer;color:#27435f}
.auto-chip .dot{width:10px;height:10px;border-radius:50%;background:#1f9d4a;display:inline-flex;align-items:center;justify-content:center;font-size:7px;line-height:1;color:#fff}
.auto-chip .label{font-size:.78rem;color:#4e6279}
.auto-chip .count{font-family:Consolas,monospace;font-size:.78rem;background:#eef4fb;border:1px solid #d8e4f0;padding:.08rem .28rem;border-radius:999px;min-width:44px;text-align:center}
.auto-chip.is-off .dot{background:#8ea1b5}
.auto-chip.is-off .count{opacity:.65}
.auto-chip.is-off + .auto-progress{background:#e8edf3}
.auto-chip.is-off + .auto-progress span{background:linear-gradient(90deg,#9aaabc,#8f9faf)}
.auto-chip.is-loading{cursor:progress;pointer-events:none;opacity:.88}
.auto-chip.is-loading .count{min-width:92px}
.auto-progress{display:block;width:var(--auto-progress-width);height:4px;background:#dfe8f2;border-radius:999px;overflow:hidden}
.auto-progress span{display:block;height:100%;width:0;margin-left:auto;background:linear-gradient(90deg,#2c88d9,#22b3be)}
.btn-lite{font:inherit;border:1px solid var(--line);background:#fff;color:var(--text);padding:.42rem .65rem;border-radius:8px;cursor:pointer}
.row{display:flex;gap:.6rem;align-items:center;flex-wrap:wrap}select,input,button,.btn{font:inherit;border:1px solid var(--line);background:#fff;color:var(--text);padding:.5rem .7rem;border-radius:8px;text-decoration:none}
button,.btn{background:var(--accent);border-color:var(--accent);color:#fff;cursor:pointer}
.table-wrap{overflow:auto}table{width:100%;border-collapse:collapse;font-size:.87rem}th,td{padding:.48rem .35rem;border-bottom:1px solid var(--line);text-align:left;white-space:nowrap}
.foot{padding:1.2rem 0 2rem;border-top:1px solid var(--line);font-size:.9rem;color:var(--muted)}
.admin-layout{display:grid;grid-template-columns:220px 1fr;min-height:100vh}.admin-nav{background:#102946;color:#dbe9f7;padding:1rem}.admin-nav h1{margin:.2rem 0 .8rem;font-size:1.2rem}.admin-nav a{display:block;color:#dbe9f7;text-decoration:none;margin:.38rem 0}.admin-main{padding:1rem}.alert{padding:.65rem .8rem;border-radius:8px;margin-bottom:.8rem}.alert-ok{background:#e4f4e7;color:#1e6e2f}.alert-bad{background:#f8e4e4;color:#8e1f1f}
.code{font-family:Consolas,monospace;background:#eef4fb;border:1px solid var(--line);padding:.3rem .4rem;border-radius:6px;word-break:break-all}
@media (max-width:820px){.admin-layout{grid-template-columns:1fr}.weather-hero{grid-template-columns:1fr}.weather-icon{width:100%;max-width:120px}.weather-temp-side{align-items:flex-start;min-width:0}.weather-temp-side .current-value{font-size:2rem}}
@media (max-width:820px){.metric-group-card .metric-group-lines{grid-template-columns:1fr}}
